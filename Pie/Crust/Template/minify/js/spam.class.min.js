function Charts(){this.Chart=function(e,t,o){if(options={chart:{renderTo:t[0].id,defaultSeriesType:t[0].type,height:t[0].height,backgroundColor:t[0].backgroundcolor,zoomType:t[0].zoom},title:{text:t[0].title,x:0,align:"center",style:{color:"#fe7d1d",fontSize:"16px"}},subtitle:{text:t[0].subtitle,x:0,style:{color:"#36b6d5"}},xAxis:{title:{text:t[0].xtitle,style:{color:"#444"}},categories:[],labels:{enabled:t[0].xenabled},reversed:t[0].xreverse},yAxis:{title:{text:t[0].ytitle,style:{color:"#36b6d5"}},plotLines:[{value:0,width:1}],min:t[0].ymin,offset:t[0].yoffset,showFirstLabel:t[0].yfirstlabel},tooltip:{enabled:!0,formatter:function(){return"pie"==this.series.chart.options.chart.defaultSeriesType?"<b>"+this.point.name+":</b> "+Highcharts.numberFormat(this.percentage,1)+"%":"column"==this.series.chart.options.chart.defaultSeriesType?"Hour: "+this.x+" | Count: "+this.y:this.series.name+": "+this.y}},legend:{enabled:t[0].legendenabled,borderWidth:0},plotOptions:{pie:{showInLegend:!0,dataLabels:{enabled:!1}},column:{stacking:"normal"}},colors:t[0].colors,series:[]},!t[0].multi||"line"!=t[0].type&&"column"!=t[0].type)if("pie"==t[0].type){options.series=[{type:"pie",name:t[0].xtitle}];var a={data:[]};$.each(e.data,function(e,t){a.data.push({name:t.name,y:parseFloat(t.count)})}),options.series.push(a)}else{var a={data:[]};a.name=t[0].interactions,$.each(e.data,function(e,t){options.xAxis.categories.push(t.date),a.data.push(parseFloat(t.count))}),options.series.push(a)}else $.each(e.data,function(e,t){var o={data:[]};o.name=e,$.each(t,function(e,t){options.xAxis.categories.push(t.date),o.data.push(parseFloat(t.count))}),options.series.push(o)});new Highcharts.Chart(options),o&&this.ExportButton(o)},this.BuildChart=function(e,t){if(201==e.code){var o;o="small"==t[0].size?[{id:t[0].id,type:t[0].type,multi:t[0].multi,height:200,backgroundcolor:t[0].backgroundcolor,zoom:"",title:"",subtitle:"",xtitle:"",xreverse:t[0].xreverse,xenabled:t[0].xenabled,ytitle:"",ymin:"",yoffset:-40,yfirstlabel:!1,legendenabled:!1,interactions:t[0].interactions,colors:t[0].colors}]:[{id:t[0].id,type:t[0].type,multi:t[0].multi,height:null,backgroundcolor:t[0].backgroundcolor,zoom:"x",title:t[0].title,subtitle:t[0].subtitle,xtitle:"Date",xreverse:t[0].xreverse,xenabled:!0,ytitle:"",ymin:"",yoffset:"",yfirstlabel:!0,legendenabled:!0,interactions:t[0].interactions,colors:t[0].colors}],this.Chart(e,o,t[1])}else $("#"+t[0].id).html("<p>No Data Returned</p>")}}function Lengths(){this.GetLength=function(e,t,o){var a=0,n=0;if(o){var s=new RegExp("http:\\/\\/([a-zA-Z0-9\\/\\_\\-\\.\\(\\)\\&\\?\\=\\%\\#\\!]*)","g"),r=e.match(s);r&&$.each(r,function(e,t){a+=t.length,n+=25})}var i=e.length;return i-=a,i+=n,i=t-i},this.StringLength=function(e){return e.length}}function Messages(){this.Build=function(e,t,o){function a(){var t=new Messages;t.CloseMessages(["#"+e+"message"])}$("#"+e+"message").length&&$("#"+e+"message").remove();var n=$("<ul/>");$.each(t,function(e,t){var o=$("<li/>");o.html(t),o.appendTo(n)});var s=$('<div class="'+e+'message bree" id="'+e+'message"/>'),r=$('<div class="e1"/>');r.html('<img src="/Pie/Crust/Template/img/'+e+'_icon.png" />'),r.appendTo(s);var i=$('<div class="e2 s0"/>');n.appendTo(i),i.appendTo(s);var c=$('<div class="e3 s0 '+e+'close"/>');c.html('<span id="'+e+'close">X</span>'),c.appendTo(s),s.insertAfter(o),setTimeout(a,15e3)},this.DeleteCheck=function(e){var t=new Popup;t.Loader(),t.AddMessage("Are You Sure?");var o=$("<div/>"),a=$('<input id="deletedata" type="hidden"/>');a.val(e),a.appendTo(o);var n=$('<ul class="nav"/>'),s=$('<li id="deleteyes" class="microbutton pointer"/>');s.text("Yes"),s.appendTo(n);var r=$('<li id="deleteno" class="microbutton pointer"/>');r.text("No"),r.appendTo(n),n.appendTo(o),t.Content(o)},this.CloseMessages=function(e){$.each(e,function(e,t){$(t).length&&$(t).fadeOut("slow",function(){$(this).remove()})})}}function Payments(){this.RoundNumber=function(e,t){var o=Math.round(e*Math.pow(10,t))/Math.pow(10,t);return parseFloat(o)},this.RecalculateCart=function(e,t,o){var a="&pound;",n=3.49,s=.7;2==o?(n=9.99,s=1.98):3==o&&(n=99.99,s=19.98),"USD"==e?(a="&#36;",n=5.49,s=0,2==o?(n=14.99,s=0):3==o&&(n=149.99,s=0)):"EUR"==e&&(a="&euro;",n=4.49,s=.9,2==o?(n=12.99,s=2.6):3==o&&(n=129.99,s=26.99));var r=1,i=0;6==t?(r=5,i=1):12==t&&(r=10,i=2);var c=new Payments,l=c.RoundNumber(r*n,2),d=c.RoundNumber(i*n,2),u=c.RoundNumber(r*s,2),p=c.RoundNumber(l+u,2);$(".currency").html(a),$("#cartmonths").text(t),$("#cartsubtotal").text(l.toFixed(2)),$("#cartsaving").text(d.toFixed(2)),$("#carttax").text(u.toFixed(2)),$("#carttotal").text(p.toFixed(2)),$("#subtotal").val(l.toFixed(2)),$("#tax").val(u.toFixed(2)),$("#months").val(t),$("#saving").val(d.toFixed(2))}}function Popup(){this.BuildPopup=function(e){var t=$('<div id="loaderfade2"/>'),o=$("<div/>");o.attr("id","popup");var a=$("<div/>");a.attr("id","popupcloseholder");var n=$("<a/>");n.attr("id","popupclose"),n.text("Close"),n.appendTo(a),a.appendTo(o);var s=$("<div/>");s.attr("id","popupdata"),s.append(e),s.appendTo(o),o.appendTo(t),t.appendTo("body")},this.Loader=function(e){var t=$("<div/>");t.attr("id","popuploader"),t.text(e),$("#popup").length>0?t.prependTo("#popupdata"):this.BuildPopup(t)},this.Content=function(e,t){$("#popupcontent").length>0&&$("#popupcontent").remove();var o=$("<div/>");o.attr("id","popupcontent"),o.append(e),t&&o.addClass(t),o.appendTo("#popupdata")},this.AddContent=function(e){e.appendTo("#popupcontent")},this.AddMessage=function(e,t){var o=$("<div/>");t?o.addClass("persistanterror"):o.addClass("persistantsuccess"),o.attr("id","popupmessage"),o.text(e),o.prependTo("#popupdata")},this.RemovePopup=function(){$("#loaderfade2").remove()},this.RemoveContent=function(){$("#popupcontent").remove()},this.RemoveLoader=function(){$("#popuploader").remove()},this.RemoveMessage=function(){$("#popupmessage").remove()},this.TinyLoader=function(){if(!$("#tinyloader").length){var e=$('<div id="loaderfade"/>'),t=$('<div id="tinyloader"><h2>Loading...</h2><img src="http://fakers.statuspeople.com/Pie/Crust/Template/img/287.gif" /></div>');t.appendTo(e),e.appendTo("body")}},this.RemoveTinyLoader=function(){$("#tinyloader").length&&$("#loaderfade").remove()},this.RightPopup=function(){if(!$("#rightpopup").length){var e=$('<div id="rightpopup"><div><span id="closerightpopup">x</span></div><div id="rightcontent"></div></div>');e.appendTo("body")}},this.CloseRightPopup=function(){$("#rightpopup").length&&$("#rightpopup").remove()},this.RightContent=function(e){$("#rightcontent").html(""),e.appendTo("#rightcontent")},this.InfoBox=function(){var e=$('<div id="infobox"><a href="http://twitter.com/statuspeople" class="icon" data-tip="Follow Us" id="infotwitter" target="_blank">+</a><a href="http://facebook.com/StatusPeople" class="icon" data-tip="Like Our Facebook Page" id="infofacebook" target="_blank">,</a><a href="mailto:info@statuspeople.com" class="icon" data-tip="Email Us" id="infoemail" target="_blank">%</a><a href="http://blog.statuspeople.com/Posts/RSS" class="icon" data-tip="Subscribe to our Blog" id="infofeed" target="_blank">/</a></div>');e.appendTo("body")},this.BuildRightInfoBox=function(){var e=$('<div id="rightinfobox"><div id="rightinfoclose">x</div><div class="content"></div></div>');e.appendTo("body")},this.RightInfoContent=function(e){e.appendTo("#rightinfobox .content")},this.RightInfoClose=function(){$("#rightinfobox").remove()}}function Scroll(){this.To=function(e,t,o){$("html, body").animate({scrollTop:$(e).offset().top-o},t)}}function Server(){this.CallServer=function(e,t,o,a,n,s){$.ajax({type:e,url:o,dataType:t,data:a,cache:!1,statusCode:{404:function(){alert("Page not found!")}},success:function(e){var t=n.split("_"),o=t[0],a=t[1],r=new window[o];r[a](e,s)},complete:function(e){console.log(e.status),console.log(e.responseText)},error:function(){pop=new Popup,pop.RemoveTinyLoader(),ms=new Messages,ms.Build("failure",["An error occurred: Process Failed!"],".header")}})}}function Spam(){this.ProcessUserAddSite=function(e){var t=new Popup,o=new Messages;201==e.code?(o.Build("success",["Thanks for suggesting an address to add to our Fakers Site Directory."],".header"),$("#fakersite").val("")):o.Build("failure",[e.message],".header"),t.RemoveTinyLoader()},this.ProcessSiteData=function(e,t){201==e.code&&(t.children("fieldset").children(".siteimage").val(e.data.image.src),t.children("fieldset").children(".sitedescription").val(e.data.para))},this.ProcessSpamData=function(e,t){if(201==e.code){var o=0,a=0,n=0,s=e.data.checks;s>0&&(o=Math.round(100*(e.data.spam/s)),a=Math.round(100*(e.data.potential/s)),n=100-(o+a));var r=$("<div/>");r.attr("class","three center"),r.html('<h1 class="red">Fake</h1><h2 class="red">'+o+"%</h2>"),1==t&&$("#spamscore").val(o);var i=$("<div/>");i.attr("class","three center"),i.html("<h1>Inactive</h1><h2>"+a+"%</h2>");var c=$("<div/>");c.attr("class","three center"),c.html('<h1 class="green">Good</h1><h2 class="green">'+n+"%</h2>"),r.appendTo("#scoresholder"),i.appendTo("#scoresholder"),c.appendTo("#scoresholder");var l=$("<div/>");l.attr("class","one"),l.attr("id","shareform");var d=$("<input/>");if(d.attr("type","button"),1==t||3==t?(d.attr("id","sharescores"),d.val("Share Your Scores on Twitter")):2==t&&(d.attr("id","resetscores"),d.val("Display Your Scores")),d.appendTo(l),l.insertAfter("#scoresholder"),$.cookie("searches",e.data.searches,{expires:1e3}),$("#friendsearches").text(e.data.searches),0==parseInt(e.data.searches)){var u=new Messages;u.Build("alert",['To run unlimited friend searches please purchase a <a href="/Payments/Subscriptions">subscription</a>.'],".header")}var p=parseInt($.cookie("buycount"));if(o>=10&&1!=p){var h=new Popup;h.BuildPopup();var m=$('<p class="red sp2 sf2 center">You have a lot of Fake Followers.</p><p class="sp2 sf2 center"><a href="/Payments/Subscriptions?type=2">Purchase a Subscription to Automatically Remove Them.</a></p>');h.Content(m),$.cookie("buycount",1,1)}if(!$("#extrainfo").length&&3!=t){var f=0,v="English";if(null!=e.data.lang){f=e.data.lang.count;var v=e.data.lang.name}var g=0;null!=e.data.hundred&&(g=e.data.hundred);var w=0;null!=e.data.fr250&&(w=e.data.fr250);var b=Math.round(100*(f/e.data.checks)),k=Math.round(100*(g/e.data.checks)),y=Math.round(100*(w/e.data.checks)),T=$('<div id="extrainfo" class="textleft row"></div>'),C=$('<div class="two a"><h2>Your Followers</h2><p class="f2 sp2 blue">'+b+"% speak "+v+"</p>"+'<p class="f2 sp2 blue">'+k+"% have not tweeted in 100 days</p>"+'<p class="f2 sp2 blue">'+y+"% follow less than 250 people</p></div>"),S="";S=null!=e.data.spam1&&null==e.data.spam2?$('<div class="two"><h2>Your Fakers</h2><ul class="fakeslist"><li><img src="'+e.data.spam1.image+'" height="48px" width="48px"/> <span class="red">'+e.data.spam1.screen_name+'</span><small><a href="#details" class="details" data-sc="'+e.data.spam1.screen_name+'">Details</a></small></li>'+"</ul></div>"):null!=e.data.spam1&&null!=e.data.spam2?$('<div class="two"><h2>Your Fakers</h2><ul class="fakeslist"><li><img src="'+e.data.spam1.image+'" height="48px" width="48px"/> <span class="red">'+e.data.spam1.screen_name+'</span><small><a href="#details" class="details" data-sc="'+e.data.spam1.screen_name+'">Details</a></small></li>'+'<li><img src="'+e.data.spam2.image+'" height="48px" width="48px"/> <span class="red">'+e.data.spam2.screen_name+'</span><small><a href="#details" class="details" data-sc="'+e.data.spam2.screen_name+'">Details</a></small></li>'+"</ul></div>"):$('<div class="two"><h2>Your Fakers</h2><p class="f2 sp2 green">Yay!! You have no Fake Followers</p></div>');var P=$('<div class="row"><div class="one center f2 sp2"><a href="/Payments/Details" class="orange">Find out more about your followers &mdash; purchase a subscription</a></div></div>');C.appendTo(T),S.appendTo(T),P.appendTo(T),T.insertAfter("#SearchForm")}}else{var x=$('<div class="one"></div>'),A=$("<h1/>"),F=$("<small/>");429==e.code?(A.text("We are sorry but you have breached your Twitter API 1.1 Limit."),A.appendTo(x),F.html('Please wait 15 minutes and try again. For more information on Twitter API limits please read their <a href="https://dev.twitter.com/docs/rate-limiting/1.1" target="_blank">rate limiting policies</a> or contact info@statuspeople.com.'),F.appendTo(x)):(A.text("No data returned for this user."),A.appendTo(x),F.html('If you are having any persistant problems accessing data with StatusPeople please <a href="/Fakers/Reset">reset your connection details</a>.'),F.appendTo(x)),x.appendTo("#scoresholder")}$("#loader").hide("slow").remove(),$("#searchsubmit").removeAttr("disabled")},this.ProcessSpamDataAdvanced=function(e,t){if(201==e.code){var o=0,a=0,n=0,s=e.data.checks;s>0&&(o=Math.round(100*(e.data.spam/s)),a=Math.round(100*(e.data.potential/s)),n=100-(o+a));var r=$("<div/>");r.attr("class","three center"),r.html('<h1 class="red">Fake</h1><h2 class="red">'+o+"%</h2>");var i=$("<div/>");i.attr("class","three center"),i.html("<h1>Inactive</h1><h2>"+a+"%</h2>");var c=$("<div/>");c.attr("class","three center"),c.html('<h1 class="green">Good</h1><h2 class="green">'+n+"%</h2>"),r.appendTo("#scoresholder"),i.appendTo("#scoresholder"),c.appendTo("#scoresholder");var l=$("<div/>");l.attr("class","one"),l.attr("id","shareform");var d=$("<input/>");d.attr("type","button"),d.attr("id","resetscores"),d.val("Display Your Scores");var u=new Server;u.CallServer("GET","JSON","/API/GetCompetitorCount","rf=json&usr="+encodeURIComponent(t),"Spam_AddCompetitorButton"),d.appendTo(l),l.insertAfter("#scoresholder"),$("#spam").val(e.data.spam),$("#potential").val(e.data.potential),$("#checks").val(e.data.checks),$("#followers").val(e.data.followers)}else{var p=$('<div class="one"></div>'),h=$("<h1/>"),m=$("<small/>");429==e.code?(h.text("We are sorry but you have breached your Twitter API 1.1 Limit."),h.appendTo(p),m.html('Please wait 15 minutes and try again. For more information on Twitter API limits please read their <a href="https://dev.twitter.com/docs/rate-limiting/1.1" target="_blank">rate limiting policies</a> or contact info@statuspeople.com.'),m.appendTo(p)):(h.text("No data returned for this user."),h.appendTo(p),m.html('If you are having any persistant problems accessing data with StatusPeople please <a href="/Fakers/Reset">reset your connection details</a>.'),m.appendTo(p)),p.appendTo("#scoresholder")}$("#loader").hide("slow").remove(),$("#searchsubmit").removeAttr("disabled")},this.ProcessSpamDataPopup=function(e,t){var o=new Popup;if(201==e.code){var a=0,n=0,s=0,r=e.data.checks;r>0&&(a=Math.round(100*(e.data.spam/r)),n=Math.round(100*(e.data.potential/r)),s=100-(a+n));var i=$('<h2 id="friendsearchname">'+$("#friendsearchquery").val()+"</h2>"),c=$("<div/>");c.attr("class","three center"),c.html('<h1 class="red">Fake</h1><h2 class="red">'+a+"%</h2>");var l=$("<div/>");l.attr("class","three center"),l.html("<h1>Inactive</h1><h2>"+n+"%</h2>");var d=$("<div/>");d.attr("class","three center"),d.html('<h1 class="green">Good</h1><h2 class="green">'+s+"%</h2>");var u=$("<div/>");i.appendTo(u),c.appendTo(u),l.appendTo(u),d.appendTo(u),o.Content(u);var p=new Server;p.CallServer("GET","JSON","/API/GetCompetitorCount","rf=json&usr="+encodeURIComponent(t),"Spam_AddCompetitorButtonPopup"),$("#spam").val(e.data.spam),$("#potential").val(e.data.potential),$("#checks").val(e.data.checks),$("#followers").val(e.data.followers)}else{var h=$("<h1/>"),m=$("<small/>");429==e.code?(h.text("We are sorry but you have breached your Twitter API 1.1 Limit."),o.Content(h),m.html('Please wait 15 minutes and try again. For more information on Twitter API limits please read their <a href="https://dev.twitter.com/docs/rate-limiting/1.1" target="_blank">rate limiting policies</a> or contact info@statuspeople.com.'),o.AddContent(m)):(h.text("No data returned for this user."),o.Content(h),m.html('If you are having any persistant problems accessing data with StatusPeople please <a href="/Fakers/Reset">reset your connection details</a>.'),o.AddContent(m))}o.RemoveTinyLoader()},this.ProcessCachedSpamData=function(e){if(201==e.code){var t=e.data.Fake[0].count,o=e.data.Good[0].count,a=e.data.Inactive[0].count,n=$("<div/>");n.attr("class","three center"),n.html('<h1 class="red">Fake</h1><h2 class="red">'+t+"%</h2>"),$("#spamscore").val(t);var s=$("<div/>");s.attr("class","three center"),s.html("<h1>Inactive</h1><h2>"+a+"%</h2>");var r=$("<div/>");r.attr("class","three center"),r.html('<h1 class="green">Good</h1><h2 class="green">'+o+"%</h2>"),n.appendTo("#scoresholder"),s.appendTo("#scoresholder"),r.appendTo("#scoresholder");var i=$("<div/>");i.attr("class","one"),i.attr("id","shareform");var c=$("<input/>");c.attr("type","button"),c.attr("id","sharescores"),c.val("Share Your Scores on Twitter"),c.appendTo(i),i.insertAfter("#scoresholder")}else{var l=$('<div class="one"></div>'),d=$("<h1/>"),u=$("<small/>");429==e.code?(d.text("We are sorry but you have breached your Twitter API 1.1 Limit."),d.appendTo(l),u.html('Please wait 15 minutes and try again. For more information on Twitter API limits please read their <a href="https://dev.twitter.com/docs/rate-limiting/1.1" target="_blank">rate limiting policies</a> or contact info@statuspeople.com.'),u.appendTo(l)):(d.text("No data returned for this user."),d.appendTo(l),u.html('If you are having any persistant problems accessing data with StatusPeople please <a href="/Fakers/Reset">reset your connection details</a>.'),u.appendTo(l)),l.appendTo("#scoresholder")}$("#loader").hide("slow").remove()},this.ProcessSpamDataFirstTime=function(e,t){if(201==e.code){var o=0,a=0,n=0,s=e.data.checks;s>0&&(o=Math.round(100*(e.data.spam/s)),a=Math.round(100*(e.data.potential/s)),n=100-(o+a));var r=$("<div/>");r.attr("class","three center"),r.html('<h1 class="red">Fake</h1><h2 class="red">'+o+"%</h2>");var i=$("<div/>");i.attr("class","three center"),i.html("<h1>Inactive</h1><h2>"+a+"%</h2>");var c=$("<div/>");c.attr("class","three center"),c.html('<h1 class="green">Good</h1><h2 class="green">'+n+"%</h2>"),r.appendTo("#scoresholder"),i.appendTo("#scoresholder"),c.appendTo("#scoresholder");var l=$("<div/>");l.attr("class","one"),l.attr("id","shareform");var d=new Server;d.CallServer("GET","json","/API/GetSpamList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildFakersList","");var u=$("<input/>");u.attr("type","button"),u.attr("id","sharescores"),u.val("Share Your Scores"),u.appendTo(l),l.insertAfter("#scoresholder"),$("#spam").val(e.data.spam),$("#potential").val(e.data.potential),$("#checks").val(e.data.checks),$("#followers").val(e.data.followers)}else{var p=$('<div class="one"></div>'),h=$("<h1/>"),m=$("<small/>");429==e.code?(h.text("We are sorry but you have breached your Twitter API 1.1 Limit."),h.appendTo(p),m.html('Please wait 15 minutes and try again. For more information on Twitter API limits please read their <a href="https://dev.twitter.com/docs/rate-limiting/1.1" target="_blank">rate limiting policies</a> or contact info@statuspeople.com.'),m.appendTo(p)):(h.text("No data returned for this user."),h.appendTo(p),m.html('If you are having any persistant problems accessing data with StatusPeople please <a href="/Fakers/Reset">reset your connection details</a>.'),m.appendTo(p)),p.appendTo("#scoresholder")}$("#loader").hide("slow").remove()},this.ProcessSpamScoreShare=function(e){pop=new Popup;var t=new Messages;201==e.code?t.Build("success",["Scores shared to Twitter."],".header"):t.Build("failure",["Failed to share scores to Twitter."],".header"),pop.RemoveTinyLoader()},this.ProcessCacheData=function(e){if(201==e.code){var t=new Object;t.code=201,t.data=e.data.lang;var o=new Charts;o.BuildChart(t,[{id:"langchart",type:"pie",multi:!1,size:"large",xreverse:!1,backgroundcolor:"#fefefe",colors:["#FE7D1D","#36B6D5","#2AFE1B","#FE1B2A","#7D1BFE"]}]),this.BuildAverages(e.data.avg)}else{var a=new Messages;a.Build("failure",["No language or average data was returned."],".header")}var n=new Popup;n.RemoveTinyLoader()},this.BuildAverages=function(e){$("#averages").length&&$("#averages").remove();var t=new Format,o=$('<table id="averages"/>'),a=$("<tr><th>Activity</th><th>Followers</th><th>Friends</th></tr>"),n=$("<tr><td>"+Math.round(e.tweets_pd/e.count)+" Tweets per day</td><td>"+t.Number(Math.round(e.followers/e.count))+" on average</td><td>"+t.Number(Math.round(e.friends/e.count))+" on average</td></tr>"),s=$("<tr><td>"+Math.round(100*(e.one/e.count))+"% no tweets in last day</td><td>"+Math.round(100*(e.fo250/e.count))+"% have less than 250</td><td>"+Math.round(100*(e.fr250/e.count))+"% follow less than 250</td></tr>"),r=$("<tr><td>"+Math.round(100*(e.thirty/e.count))+"% no tweets in 30 days</td><td>"+Math.round(100*(e.fo500/e.count))+"% have about 500</td><td>"+Math.round(100*(e.fr500/e.count))+"% follow about 500</td></tr>"),i=$("<tr><td>"+Math.round(100*(e.hundred/e.count))+"% no tweets in 100 days</td><td>"+Math.round(100*(e.fo1000/e.count))+"% have more than 1,000</td><td>"+Math.round(100*(e.fr1000/e.count))+"% follow more than 1,000</td></tr>");a.appendTo(o),n.appendTo(o),s.appendTo(o),r.appendTo(o),i.appendTo(o),o.appendTo("#followerdata")},this.Sharing=function(){$("#sharescores").remove();var e=new Popup;e.TinyLoader()},this.AddCompetitorButton=function(e){var t=new Messages,o=new Array;if(201==e.code){var a=$("<input/>");a.attr("type","button"),a.attr("id","addfaker"),a.attr("value","Add User To Friends List"),e.data.competitors>=6&&1==e.data.type?(a.attr("disabled","disabled"),o[0]="You cannot add any more users to your fakers list.",t.Build("alert",o,".header")):e.data.competitors>=16&&2==e.data.type&&(a.attr("disabled","disabled"),o[0]="You cannot add any more users to your fakers list.",t.Build("alert",o,".header")),a.appendTo("#shareform")}else o[0]="Could not find user details on Twitter please try your search again.",t.Build("failure",o,".header")},this.AddCompetitorButtonPopup=function(e){new Messages,new Array;var t=new Popup;if(201==e.code){var o=$('<form><fieldset><input type="button" id="addfakerpopup" value="Add User To Friend List"/></fieldset></form>');t.AddContent(o),e.data.competitors>=6&&1==e.data.type?($("#addfakerpopup").attr("disabled","disabled"),t.AddMessage("You cannot add any more users to your fakers list.",!0)):e.data.competitors>=16&&2==e.data.type&&($("#addfakerpopup").attr("disabled","disabled"),t.AddMessage("You cannot add any more users to your fakers list.",!0))}else t.AddMessage("Could not find user details on Twitter please try your search again.",!0)},this.AddFaker=function(e,t){var o=new Messages,a=new Array,n=new Server;201==e.code?(a[0]='User added to <a href="/Fakers/Followers">Friends List</a>.',o.Build("success",a,".header")):(a[0]="Failed to add user to Friends List, please try again",o.Build("failure",a,".header")),n.CallServer("GET","json","/API/GetCompetitorList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildCompetitorList","")},this.DeleteFaker=function(e,t){var o=new Messages,a=new Array,n=new Server;201==e.code?(a[0]="User removed from Fakers List.",o.Build("success",a,".header")):o.Build("failure",[e.message],".header"),n.CallServer("GET","json","/API/GetCompetitorList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildCompetitorList","")},this.BuildCompetitorList=function(e){if(201==e.code){var t,o,a;$(".competitorlist").length&&$(".competitorlist").remove();var n=$('<table class="competitorlist"/>');$.each(e.data,function(e,s){t=Math.round(100*(s.spam/s.checks)),o=Math.round(100*(s.potential/s.checks)),a=100-(t+o);var r=$("<tr/>");r.html('<td><a href="http://twitter.com/'+s.screen_name+'" target="_blank"><img src="'+s.avatar+'" width="36px" height="36px" /></a></td><td><span class="blue pointer details" data-sc="'+s.screen_name+'">'+s.screen_name+'</span></td><td><span class="red">Fake: '+t+'%</span></td><td><span class="orange">Inactive: '+o+'%</span></td><td><span class="green">Good: '+a+'%</span></td><td><input type="hidden" value="'+s.twitterid+'" class="ti"/><input type="hidden" value="'+s.screen_name+'" class="sc"/><span class="chart icon" data-tip="View on chart"><img src="/Pie/Crust/Template/img/Reports.png" height="24px" width="22px"/></span></td><td><input type="hidden" value="'+s.twitterid+'"/><span class="delete icon" data-tip="Remove">X</span></td>'),r.appendTo(n)}),n.appendTo("#fakerslist")}},this.BuildFakersList=function(e){var t=new Popup;if(t.RemoveTinyLoader(),201==e.code){$("#checkform").length&&$("#checkform").remove(),$("#spammers .fakeslist").length&&$("#spammers .fakeslist").remove();var o=$('<ul class="fakeslist"/>');$.each(e.data,function(e,t){var a=$("<li/>");a.html('<input type="hidden" value="'+t.screen_name+'" class="sc" /><input type="hidden" value="'+t.twitterid+'" class="ti"/><img src="'+t.avatar+'" width="48px" height="48px" /> '+t.screen_name+'<small><a href="#details" class="details">Details</a> | <a href="#block" class="block">Block</a> | <a href="#spam" class="notspam">Not Spam</a></small>'),a.appendTo(o)}),o.appendTo("#spammers")}else{if($("#spammers .fakeslist").length&&$("#spammers .fakeslist").remove(),!$("#checkform").length){var a=$('<div id="checkform"/>'),n=$("<p/>");n.text("No Fake Followers found at this time."),n.appendTo(a);var s=$('<p><fieldset><input type="button" id="checkfakes" value="Check For New Fakes"/></fieldset></p>');s.appendTo(a),a.appendTo("#spammers")}var r=new Messages;r.Build("alert",["No Fake Followers found at this time, please try again later."],".header")}},this.BuildBlockedList=function(e){var t=new Popup;if(t.RemoveTinyLoader(),201==e.code){$("#blocked .fakeslist").length&&$("#blocked .fakeslist").remove();var o=$('<ul class="fakeslist"/>');$.each(e.data,function(e,t){var a=$("<li/>");a.html('<input type="hidden" value="'+t.screen_name+'" class="sc" /><input type="hidden" value="'+t.twitterid+'" class="ti"/><img src="'+t.avatar+'" width="48px" height="48px" /> '+t.screen_name+'<small><a href="#details" class="details">Details</a> | <a href="#block" class="unblock">Unblock</a>'),a.appendTo(o)}),o.appendTo("#blocked")}},this.UpdateFakersList=function(e,t){var o=new Server;if(201==e.code)o.CallServer("GET","json","/API/GetSpamList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildFakersList","");else{if(429==e.code){var a=new Messages;a.Build("alert",e.message,".header")}o.CallServer("GET","json","/API/GetSpamList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildFakersList","")}},this.BuildUser=function(e){var t=new Tweets,o=new Popup;if(o.RemoveMessage(),o.RemoveLoader(),201==e.code){var a=t.BuildUser(e.data),n=$("<ul/>");n.addClass("twitteruser"),a.appendTo(n),o.Content(n)}else o.AddMessage("No user data returned",!0)},this.BlockUser=function(e,t){var o=new Messages,a=new Array,n=new Server,s=new Format;201==e.code?(a[0]="User blocked successfully.",o.Build("success",a,".header"),$("#blockcount").text(s.Number(e.data))):(a[0]="Failed to block user, please try again.",o.Build("failure",a,".header")),n.CallServer("GET","json","/API/GetSpamList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildFakersList",""),n.CallServer("GET","json","/API/GetBlockedList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildBlockedList","")},this.UnBlockUser=function(e,t){var o=new Messages,a=new Array,n=new Server;201==e.code?(a[0]="User unblocked successfully.",o.Build("success",a,".header")):(a[0]="Failed to unblock user, please try again.",o.Build("failure",a,".header")),n.CallServer("GET","json","/API/GetSpamList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildFakersList",""),n.CallServer("GET","json","/API/GetBlockedList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildBlockedList","")},this.NotSpam=function(e,t){var o=new Messages,a=new Array,n=new Server;201==e.code?(a[0]="User successfully marked as not spam.",o.Build("success",a,".header")):(a[0]="Failed to mark user as not spam, please try again.",o.Build("failure",a,".header")),n.CallServer("GET","json","/API/GetSpamList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildFakersList","")},this.ProcessUserCheck=function(e){var t=new Popup;if(500==e.code){t.BuildRightInfoBox();var o=$('<p><strong>Get 5 Free Friend Searches.</strong></p><p>Just give us a few details.</p><input type="button" id="freesearches" value="Free Searches" /><p><strong>Get Unlimited Friend Searches</strong></p><p>Sign up for a subscription.</p><a href="/Payments/Details"><input type="button" value="Unlimited Searches"/></a><p><strong>Auto Block</strong></p><p>To Auto Block your Fake Followers and track up to 15 Friends upgrade to a Premium subscription.</p><form><fieldset><input type="button" id="gotopremium" value="Go Premium" /></fieldset></form>');t.RightInfoContent(o)}else if(201==e.code){t.BuildRightInfoBox();var o=$('<p><strong>Get Unlimited Friend Searches</strong></p><p>Sign up for a subscription.</p><a href="/Payments/Details"><input type="button" value="Unlimited Searches"/></a><p><strong>Auto Block</strong></p><p>To Auto Block your Fake Followers and track up to 15 Friends upgrade to a Premium subscription.</p><form><fieldset><input type="button" id="gotopremium" value="Go Premium" /></fieldset></form>');t.RightInfoContent(o)}},this.EventbriteData=function(e){var t=new Popup;if(201==e.code){t.BuildRightInfoBox();var o=$("<p><strong>Join Our Next Webinar</strong></p><p>"+e.data[0].title+"</p>"+'<input type="button" id="webinarbut" data-link="'+e.data[0].link+'" value="Register Now" />');t.RightInfoContent(o)}},this.ProcessUserAddDetails=function(e){var t=new Popup,o=new Messages;if(201==e.code){o.Build("success",['User details added successfully. And you now have 5 extra friend searches. If you want unlimited searches <a href="/Payments/Subscriptions">sign up for a subscription</a>.'],".header"),t.RemovePopup(),$.cookie("searches",e.data.searches,1e3),$("#friendsearches").text(e.data.searches),t.RightInfoClose(),t.BuildRightInfoBox();var a=$('<p><strong>Get Unlimited Friend Searches</strong></p><p>Sign up for a subscription.</p><a href="/Payments/Details"><input type="button" value="Unlimited Searches"/></a><p><strong>Auto Block</strong></p><p>To Auto Block your Fake Followers and track up to 15 Friends upgrade to a Premium subscription.</p><form><fieldset><input type="button" id="gotopremium" value="Go Premium" /></fieldset></form>');t.RightInfoContent(a)}else 500==e.code?(o.Build("failure",["Failed to create user."],".header"),t.RemovePopup()):t.AddMessage(e.message,!0);t.RemoveTinyLoader()},this.ProcessFakerFind=function(e){$("#blocksearchdata .fakeslist").length&&$("#blocksearchdata .fakeslist").remove();var t=$('<ul class="fakeslist"/>');if(e.code=201)$.each(e.data,function(e,o){var a=$("<li/>");a.html('<input type="hidden" value="'+o.screen_name+'" class="sc" /><input type="hidden" value="'+o.twitterid+'" class="ti"/><img src="'+o.avatar+'" width="48px" height="48px" /> '+o.screen_name+'<small><a href="#details" class="details">Details</a> | <a href="#block" class="unblock">Unblock</a>'),a.appendTo(t)});else{var o=$("<li>No Blocked Followers found.</li>");o.appendTo(t)}t.appendTo("#blocksearchdata")},this.AutoBlockUpdate=function(e){var t=new Messages,o=new Popup;if(201==e.code){var a;1==e.data?(t.Build("success",["Auto blocking has been turned on."],".header"),a=$(' <span class="green">On <span class="ico">;</span></span> <span id="autooff" class="microbutton pointer">Turn Off</span>')):(t.Build("success",["Auto blocking has been turned off."],".header"),a=$('<span class="red">Off <span class="ico" style="font-size:20px;">9</span></span> <span id="autoon" class="microbutton pointer">Turn On</span>'));var n=$("<h2>Auto Block Fakes </h2>");a.appendTo(n),$("#autoblock.two h2").remove(),n.appendTo("#autoblock.two")}else t.Build("failure",["Failed to change your auto blocking status."],".header");o.RemovePopup(),o.RemoveTinyLoader()}}function Tweets(){this.BuildTweet=function(e){var t=$("<li/>"),o=$("<img/>");o.attr("src",e.avatar),o.attr("height","48px"),o.attr("width","48px"),o.appendTo(t);var a=$("<p/>"),n=this.HashAtLink(e.tweet);a.append("<strong>"+e.name+"</strong> "),a.append(n),a.appendTo(t);
var s=$("<small/>");return s.addClass("orange"),s.html("Source: "+e.source+" | Date: "+e.date),s.appendTo(t),t},this.HashAtLink=function(e){var t=new RegExp("https?:\\/\\/([a-zA-Z0-9\\/\\_\\-\\.\\(\\)\\&\\?\\=]*)","g"),o=new RegExp("^@([a-zA-Z0-9_-]{1,})","g"),a=new RegExp("\\s@([a-zA-Z0-9_-]{1,})","g"),n=new RegExp("^#([a-zA-Z0-9_-]{1,})","g"),s=new RegExp("\\s#([a-zA-Z0-9_-]{1,})","g"),r=e.replace(t,'<a href="http://$1" target="_blank" class="createdlink">$1</a>');return r=r.replace(o,'<a href="http://twitter.com/$1" class="tweetuser" target="_blank">@$1</a>'),r=r.replace(a,' <a href="http://twitter.com/$1" class="tweetuser" target="_blank">@$1</a>'),r=r.replace(n,' <a href="http://twitter.com/search?q=%23$1" class="tweethash" target="_blank">#$1</a>'),r=r.replace(s,' <a href="http://twitter.com/search?q=%23$1" class="tweethash" target="_blank">#$1</a>')},this.GetAtUsers=function(e){var t=new RegExp("\\s@([a-zA-Z0-9_-]{1,})","g"),o=e.match(t);return o},this.CreateRetweet=function(e){var t=new RegExp("^([a-zA-Z0-9_-]{1,})\\s"),o=new RegExp("([a-zA-Z0-9]{1,}\\.[a-zA-Z0-9]{1,}\\/[a-zA-Z0-9]{1,})","g"),a=e.match(t),n="RT @"+a[1]+": ",s=e.replace(t,n);return s=s.replace(o,"http://$1")},this.BuildUser=function(e,t){var o=$("<li/>"),a=$('<div class="userholder"/>'),n=$("<div/>"),s=$('<img width="48" height="48" src="'+e.image+'"/>');s.appendTo(n);var r="green";"Inactive"==e.spam?r="orange":"Fake"==e.spam&&(r="red");var i=$('<div class="fakers center orange"><strong>Fakers</strong><br/><strong><span class="'+r+'">'+e.spam+"</span></strong></div>");i.appendTo(n);var c=$('<div class="kredsmall"><div class="influence"></div><div class="outreach"></div></div>');c.appendTo(n),n.appendTo(a);var l=$("<div/>");l.html('<span class="screenname">'+e.screenname+"</span><br/>"+e.location+'<br/><a href="'+e.url+'" target="_blank">Website</a><br/>Tweets: '+e.tweets+"<br/>Followers: "+e.followers+' <a href="http://twitter.com/'+e.screenname+'" class="tweetfollowers">View</a><br/>Friends: '+e.friends+"<br/>Days Active: "+e.daysactive);var d=new Server;d.CallServer("GET","json","/API/GetKredScore","rf=json&gk="+t+"&usr="+e.screenname,"Tweets_AddKredScore",c),l.appendTo(a);var u=$("<div/>");u.text(e.description),u.appendTo(a);var p=$("<div/>");return p.html('<a href="http://twitter.com/'+e.screenname+'" class="usertweettimeline" title="User Timeline">"</a>'),p.appendTo(a),a.appendTo(o),o},this.BuildDM=function(){},this.BuildRetweet=function(){},this.AddKredScore=function(e,t){201==e.code?(t.children(".influence").html(e.data.influence),t.children(".outreach").html(e.data.outreach)):(t.children(".influence").html("0"),t.children(".outreach").html("0"))},this.Timeline=function(e,t){var o=new Tweets,a=new Hub,n="#twitter"+t,s="#timelineholder"+t;if(201==e.code){var r=0;if($(n).length)$.each(e.data,function(e,a){r||$("#sinceid"+t).val(a.id);var s=o.BuildTweet(a);s.prependTo(n),r+=1});else{var i=$("<ul/>");i.attr("id","twitter"+t),i.addClass("twittertimeline"),$.each(e.data,function(e,a){r||$("#sinceid"+t).val(a.id);var n=o.BuildTweet(a);n.appendTo(i),r+=1}),i.appendTo(s)}}else if($(n).length);else{var c=new Popup;c.Loader(),c.AddMessage("No data returned",!0)}$("#viewnewtweets").length&&$("#viewnewtweets").remove(),a.Loader("")},this.Followers=function(e){var t=new Popup,o=new Tweets;if(201==e.code){var a=$("<ul/>");a.addClass("twitterusers"),$.each(e.data,function(e,t){var n=o.BuildUser(t);n.appendTo(a)}),t.Content(a,"popupscroll")}else t.AddMessage("No follower data returned at this time.",!0);t.RemoveLoader()},this.NewCount=function(e){if(201==e.code){var t=new Hub,o=0;if($.each(e.data,function(){o+=1}),$("#viewnewtweets").length)$("#viewnewtweets").text("You have "+o+" new Tweets to view.");else{var a=$("<div/>");a.attr("id","viewnewtweets"),a.text("You have "+o+" new Tweets to view."),a.insertBefore("#timelineholderhome")}}t.Loader("")},this.BuildUserTimeline=function(e){var t=new Tweets,o=new Popup;if(o.RemoveLoader(),o.RemoveMessage(),201==e.code){var a=$('<ul class="twittertimeline"/>');$.each(e.data,function(e,o){var n=t.BuildTweet(o);n.prependTo(a)}),o.Content(a,"popupscroll")}else o.AddMessage("No tweets found for this user",!0)}}function Format(){this.Number=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}