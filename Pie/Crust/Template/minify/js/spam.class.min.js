function Charts(){this.Chart=function(e,t,a){if(options={chart:{renderTo:t[0].id,defaultSeriesType:t[0].type,height:t[0].height,backgroundColor:t[0].backgroundcolor,zoomType:t[0].zoom},title:{text:t[0].title,x:0,align:"center",style:{color:"#fe7d1d",fontSize:"16px"}},subtitle:{text:t[0].subtitle,x:0,style:{color:"#36b6d5"}},xAxis:{title:{text:t[0].xtitle,style:{color:"#444"}},categories:[],labels:{enabled:t[0].xenabled},reversed:t[0].xreverse},yAxis:{title:{text:t[0].ytitle,style:{color:"#36b6d5"}},plotLines:[{value:0,width:1}],min:t[0].ymin,offset:t[0].yoffset,showFirstLabel:t[0].yfirstlabel},tooltip:{enabled:!0,formatter:function(){return"pie"==this.series.chart.options.chart.defaultSeriesType?"<b>"+this.point.name+":</b> "+Highcharts.numberFormat(this.percentage,1)+"%":"column"==this.series.chart.options.chart.defaultSeriesType?"Hour: "+this.x+" | Count: "+this.y:this.series.name+": "+this.y}},legend:{enabled:t[0].legendenabled,borderWidth:0},plotOptions:{pie:{showInLegend:!0,dataLabels:{enabled:!1}},column:{stacking:"normal"}},colors:t[0].colors,series:[]},!t[0].multi||"line"!=t[0].type&&"column"!=t[0].type)if("pie"==t[0].type){options.series=[{type:"pie",name:t[0].xtitle}];var o={data:[]};$.each(e.data,function(e,t){o.data.push({name:t.name,y:parseFloat(t.count)})}),options.series.push(o)}else{var o={data:[]};o.name=t[0].interactions,$.each(e.data,function(e,t){options.xAxis.categories.push(t.date),o.data.push(parseFloat(t.count))}),options.series.push(o)}else $.each(e.data,function(e,t){var a={data:[]};a.name=e,$.each(t,function(e,t){options.xAxis.categories.push(t.date),a.data.push(parseFloat(t.count))}),options.series.push(a)});new Highcharts.Chart(options),a&&this.ExportButton(a)},this.BuildChart=function(e,t){if(201==e.code){var a;a="small"==t[0].size?[{id:t[0].id,type:t[0].type,multi:t[0].multi,height:200,backgroundcolor:t[0].backgroundcolor,zoom:"",title:"",subtitle:"",xtitle:"",xreverse:t[0].xreverse,xenabled:t[0].xenabled,ytitle:"",ymin:"",yoffset:-40,yfirstlabel:!1,legendenabled:!1,interactions:t[0].interactions,colors:t[0].colors}]:[{id:t[0].id,type:t[0].type,multi:t[0].multi,height:null,backgroundcolor:t[0].backgroundcolor,zoom:"x",title:t[0].title,subtitle:t[0].subtitle,xtitle:"Date",xreverse:t[0].xreverse,xenabled:!0,ytitle:"",ymin:"",yoffset:"",yfirstlabel:!0,legendenabled:!0,interactions:t[0].interactions,colors:t[0].colors}],this.Chart(e,a,t[1])}else $("#"+t[0].id).html("<p>No Data Returned</p>");var o=new Popup;o.RemoveTinyLoader()}}function Lengths(){this.GetLength=function(e,t,a){var o=0,r=0;if(a){var s=new RegExp("http:\\/\\/([a-zA-Z0-9\\/\\_\\-\\.\\(\\)\\&\\?\\=\\%\\#\\!]*)","g"),n=e.match(s);n&&$.each(n,function(e,t){o+=t.length,r+=25})}var i=e.length;return i-=o,i+=r,i=t-i},this.StringLength=function(e){return e.length}}function Messages(){this.Build=function(e,t,a){function o(){var t=new Messages;t.CloseMessages(["#"+e+"message"])}$("#"+e+"message").length&&$("#"+e+"message").remove();var r=$("<ul/>");$.each(t,function(e,t){var a=$("<li/>");a.html(t),a.appendTo(r)});var s=$('<div class="'+e+'message bree" id="'+e+'message"/>'),n=$('<div class="e1"/>');n.html('<img src="/Pie/Crust/Template/img/'+e+'_icon.png" />'),n.appendTo(s);var i=$('<div class="e2 s0"/>');r.appendTo(i),i.appendTo(s);var l=$('<div class="e3 s0 '+e+'close"/>');l.html('<span id="'+e+'close">X</span>'),l.appendTo(s),s.insertAfter(a),setTimeout(o,15e3)},this.DeleteCheck=function(e){var t=new Popup;t.Loader(),t.AddMessage("Are You Sure?");var a=$("<div/>"),o=$('<input id="deletedata" type="hidden"/>');o.val(e),o.appendTo(a);var r=$('<ul class="nav"/>'),s=$('<li id="deleteyes" class="microbutton pointer"/>');s.text("Yes"),s.appendTo(r);var n=$('<li id="deleteno" class="microbutton pointer"/>');n.text("No"),n.appendTo(r),r.appendTo(a),t.Content(a)},this.CloseMessages=function(e){$.each(e,function(e,t){$(t).length&&$(t).fadeOut("slow",function(){$(this).remove()})})}}function Payments(){this.RoundNumber=function(e,t){var a=Math.round(e*Math.pow(10,t))/Math.pow(10,t);return parseFloat(a)},this.RecalculateCart=function(e,t,a){var o="&pound;",r=3.49,s=.7;2==a?(r=9.99,s=1.98):3==a&&(r=99.99,s=19.98),"USD"==e?(o="&#36;",r=5.49,s=0,2==a?(r=14.99,s=0):3==a&&(r=149.99,s=0)):"EUR"==e&&(o="&euro;",r=4.49,s=.9,2==a?(r=12.99,s=2.6):3==a&&(r=129.99,s=26.99));var n=1,i=0;6==t?(n=5,i=1):12==t&&(n=10,i=2);var l=new Payments,d=l.RoundNumber(n*r,2),c=l.RoundNumber(i*r,2),p=l.RoundNumber(n*s,2),u=l.RoundNumber(d+p,2);$(".currency").html(o),$("#cartmonths").text(t),$("#cartsubtotal").text(d.toFixed(2)),$("#cartsaving").text(c.toFixed(2)),$("#carttax").text(p.toFixed(2)),$("#carttotal").text(u.toFixed(2)),$("#subtotal").val(d.toFixed(2)),$("#tax").val(p.toFixed(2)),$("#months").val(t),$("#saving").val(c.toFixed(2))}}function Popup(){this.BuildPopup=function(e){var t=$('<div id="loaderfade2"/>'),a=$("<div/>");a.attr("id","popup");var o=$("<div/>");o.attr("id","popupcloseholder");var r=$("<a/>");r.attr("id","popupclose"),r.text("Close"),r.appendTo(o),o.appendTo(a);var s=$("<div/>");s.attr("id","popupdata"),s.append(e),s.appendTo(a),a.appendTo(t),t.appendTo("body")},this.Loader=function(e){var t=$("<div/>");t.attr("id","popuploader"),t.text(e),$("#popup").length>0?t.prependTo("#popupdata"):this.BuildPopup(t)},this.Content=function(e,t){$("#popupcontent").length>0&&$("#popupcontent").remove();var a=$("<div/>");a.attr("id","popupcontent"),a.append(e),t&&a.addClass(t),a.appendTo("#popupdata")},this.AddContent=function(e){e.appendTo("#popupcontent")},this.AddMessage=function(e,t){var a=$("<div/>");t?a.addClass("persistanterror"):a.addClass("persistantsuccess"),a.attr("id","popupmessage"),a.text(e),a.prependTo("#popupdata")},this.RemovePopup=function(){$("#loaderfade2").remove()},this.RemoveContent=function(){$("#popupcontent").remove()},this.RemoveLoader=function(){$("#popuploader").remove()},this.RemoveMessage=function(){$("#popupmessage").remove()},this.TinyLoader=function(){if(!$("#tinyloader").length){var e=$('<div id="loaderfade"/>'),t=$('<div id="tinyloader"><h2>Loading...</h2><img src="http://fakers.statuspeople.com/Pie/Crust/Template/img/287.gif" /></div>');t.appendTo(e),e.appendTo("body")}},this.RemoveTinyLoader=function(){$("#tinyloader").length&&$("#loaderfade").remove()},this.RightPopup=function(){if(!$("#rightpopup").length){var e=$('<div id="rightpopup"><div><span id="closerightpopup">x</span></div><div id="rightcontent"></div></div>');e.appendTo("body")}},this.CloseRightPopup=function(){$("#rightpopup").length&&$("#rightpopup").remove()},this.RightContent=function(e){$("#rightcontent").html(""),e.appendTo("#rightcontent")},this.InfoBox=function(){var e=$('<div id="infobox"><a href="http://twitter.com/statuspeople" class="icon" data-tip="Follow Us" id="infotwitter" target="_blank">+</a><a href="http://facebook.com/StatusPeople" class="icon" data-tip="Like Our Facebook Page" id="infofacebook" target="_blank">,</a><a href="mailto:info@statuspeople.com" class="icon" data-tip="Email Us" id="infoemail" target="_blank">%</a><a href="http://blog.statuspeople.com/Posts/RSS" class="icon" data-tip="Subscribe to our Blog" id="infofeed" target="_blank">/</a></div>');e.appendTo("body")},this.BuildRightInfoBox=function(){var e=$('<div id="rightinfobox"><div id="rightinfoclose">x</div><div class="content"></div></div>');e.appendTo("body")},this.RightInfoContent=function(e){e.appendTo("#rightinfobox .content")},this.RightInfoClose=function(){$("#rightinfobox").remove()}}function Scroll(){this.To=function(e,t,a){$("html, body").animate({scrollTop:$(e).offset().top-a},t)}}function Server(){this.CallServer=function(e,t,a,o,r,s){$.ajax({type:e,url:a,dataType:t,data:o,cache:!1,statusCode:{404:function(){alert("Page not found!")}},success:function(e){var t=r.split("_"),a=t[0],o=t[1],n=new window[a];n[o](e,s)},complete:function(e){console.log(e.status),console.log(e.responseText)},error:function(){pop=new Popup,pop.RemoveTinyLoader(),ms=new Messages,ms.Build("failure",["An error occurred: Process Failed!"],".header")}})}}function Spam(){this.ProcessUserAddSite=function(e){var t=new Popup,a=new Messages;201==e.code?(a.Build("success",["Thanks for suggesting an address to add to our Fakers Site Directory."],".header"),$("#fakersite").val("")):a.Build("failure",[e.message],".header"),t.RemoveTinyLoader()},this.ProcessSiteData=function(e,t){201==e.code&&(t.children("fieldset").children(".siteimage").val(e.data.image.src),t.children("fieldset").children(".sitedescription").val(e.data.para))},this.ProcessSpamData=function(e,t){if(201==e.code){var a=0,o=0,r=0,s=e.data.checks;s>0&&(a=Math.round(100*(e.data.spam/s)),o=Math.round(100*(e.data.potential/s)),r=100-(a+o));var n=$("<div/>");n.attr("class","three center"),n.html('<h1 class="red">Fake</h1><h2 class="red">'+a+"%</h2>"),1==t&&$("#spamscore").val(a);var i=$("<div/>");i.attr("class","three center"),i.html("<h1>Inactive</h1><h2>"+o+"%</h2>");var l=$("<div/>");l.attr("class","three center"),l.html('<h1 class="green">Good</h1><h2 class="green">'+r+"%</h2>"),n.appendTo("#scoresholder"),i.appendTo("#scoresholder"),l.appendTo("#scoresholder");var d=$("<div/>");d.attr("class","one"),d.attr("id","shareform");var c=$("<input/>");if(c.attr("type","button"),1==t||3==t?(c.attr("id","sharescores"),c.val("Share Your Scores on Twitter")):2==t&&(c.attr("id","resetscores"),c.val("Display Your Scores")),c.appendTo(d),d.insertAfter("#scoresholder"),$.cookie("searches",e.data.searches,{expires:1e3}),$("#friendsearches").text(e.data.searches),0==parseInt(e.data.searches)){var p=new Messages;p.Build("alert",['To run unlimited friend searches please purchase a <a href="/Payments/Subscriptions">subscription</a>.'],".header")}var u=parseInt($.cookie("buycount"));if(a>=10&&1!=u){var h=new Popup;h.BuildPopup();var m=$('<p class="red sp2 sf2 center">You have a lot of Fake Followers.</p><p class="sp2 sf2 center"><a href="/Payments/Subscriptions?type=2">Purchase a Subscription to Automatically Remove Them.</a></p>');h.Content(m),$.cookie("buycount",1,1)}if(!$("#extrainfo").length&&3!=t){var f=0,v="English";if(null!=e.data.lang){f=e.data.lang.count;var v=e.data.lang.name}var g=0;null!=e.data.hundred&&(g=e.data.hundred);var w=0;null!=e.data.fr250&&(w=e.data.fr250);var k=Math.round(100*(f/e.data.checks)),T=Math.round(100*(g/e.data.checks)),y=Math.round(100*(w/e.data.checks)),b=$('<div id="extrainfo" class="textleft row"></div>'),S=$('<div class="two a"><h2>Your Followers</h2><p class="f2 sp2 blue">'+k+"% speak "+v+"</p>"+'<p class="f2 sp2 blue">'+T+"% have not tweeted in 100 days</p>"+'<p class="f2 sp2 blue">'+y+"% follow less than 250 people</p></div>"),P="";P=null!=e.data.spam1&&null==e.data.spam2?$('<div class="two"><h2>Your Fakers</h2><ul class="fakeslist"><li><img src="'+e.data.spam1.image+'" height="48px" width="48px"/> <span class="red">'+e.data.spam1.screen_name+'</span><small><a href="#details" class="details" data-sc="'+e.data.spam1.screen_name+'">Details</a></small></li>'+"</ul></div>"):null!=e.data.spam1&&null!=e.data.spam2?$('<div class="two"><h2>Your Fakers</h2><ul class="fakeslist"><li><img src="'+e.data.spam1.image+'" height="48px" width="48px"/> <span class="red">'+e.data.spam1.screen_name+'</span><small><a href="#details" class="details" data-sc="'+e.data.spam1.screen_name+'">Details</a></small></li>'+'<li><img src="'+e.data.spam2.image+'" height="48px" width="48px"/> <span class="red">'+e.data.spam2.screen_name+'</span><small><a href="#details" class="details" data-sc="'+e.data.spam2.screen_name+'">Details</a></small></li>'+"</ul></div>"):$('<div class="two"><h2>Your Fakers</h2><p class="f2 sp2 green">Yay!! You have no Fake Followers</p></div>');var C=$('<div class="row"><div class="one center f2 sp2"><a href="/Payments/Details" class="orange">Learn more about your Followers &mdash; Purchase a Subscription</a></div></div>');C.appendTo(b),S.appendTo(b),P.appendTo(b),b.insertAfter("#SearchForm")}}else{var A=$('<div class="one"></div>'),F=$("<h1/>"),I=$("<small/>");429==e.code?(F.text("We are sorry but you have breached your Twitter API 1.1 Limit."),F.appendTo(A),I.html('Please wait 15 minutes and try again. For more information on Twitter API limits please read their <a href="https://dev.twitter.com/docs/rate-limiting/1.1" target="_blank">rate limiting policies</a> or contact info@statuspeople.com.'),I.appendTo(A)):(F.text("No data returned for this user."),F.appendTo(A),I.html('If you are having any persistant problems accessing data with StatusPeople please <a href="/Fakers/Reset">reset your connection details</a>.'),I.appendTo(A)),A.appendTo("#scoresholder")}$("#searchsubmit").removeAttr("disabled");var h=new Popup;h.RemoveTinyLoader()},this.ProcessSpamDataAdvanced=function(e,t){if(201==e.code){var a=0,o=0,r=0,s=e.data.checks;s>0&&(a=Math.round(100*(e.data.spam/s)),o=Math.round(100*(e.data.potential/s)),r=100-(a+o));var n=$("<div/>");n.attr("class","three center"),n.html('<h1 class="red">Fake</h1><h2 class="red">'+a+"%</h2>");var i=$("<div/>");i.attr("class","three center"),i.html("<h1>Inactive</h1><h2>"+o+"%</h2>");var l=$("<div/>");l.attr("class","three center"),l.html('<h1 class="green">Good</h1><h2 class="green">'+r+"%</h2>"),n.appendTo("#scoresholder"),i.appendTo("#scoresholder"),l.appendTo("#scoresholder");var d=$("<div/>");d.attr("class","one"),d.attr("id","shareform");var c=$("<input/>");c.attr("type","button"),c.attr("id","resetscores"),c.val("Display Your Scores");var p=new Server;p.CallServer("GET","JSON","/API/GetCompetitorCount","rf=json&usr="+encodeURIComponent(t),"Spam_AddCompetitorButton"),c.appendTo(d),d.insertAfter("#scoresholder"),$("#spam").val(e.data.spam),$("#potential").val(e.data.potential),$("#checks").val(e.data.checks),$("#followers").val(e.data.followers)}else{var u=$('<div class="one"></div>'),h=$("<h1/>"),m=$("<small/>");429==e.code?(h.text("We are sorry but you have breached your Twitter API 1.1 Limit."),h.appendTo(u),m.html('Please wait 15 minutes and try again. For more information on Twitter API limits please read their <a href="https://dev.twitter.com/docs/rate-limiting/1.1" target="_blank">rate limiting policies</a> or contact info@statuspeople.com.'),m.appendTo(u)):(h.text("No data returned for this user."),h.appendTo(u),m.html('If you are having any persistant problems accessing data with StatusPeople please <a href="/Fakers/Reset">reset your connection details</a>.'),m.appendTo(u)),u.appendTo("#scoresholder")}$("#searchsubmit").removeAttr("disabled");var f=new Popup;f.RemoveTinyLoader()},this.ProcessSpamDataPopup=function(e,t){var a=new Popup;if(201==e.code){var o=0,r=0,s=0,n=e.data.checks;n>0&&(o=Math.round(100*(e.data.spam/n)),r=Math.round(100*(e.data.potential/n)),s=100-(o+r));var i=$('<h2 id="friendsearchname">'+$("#friendsearchquery").val()+"</h2>"),l=$("<div/>");l.attr("class","three center"),l.html('<h1 class="red">Fake</h1><h2 class="red">'+o+"%</h2>");var d=$("<div/>");d.attr("class","three center"),d.html("<h1>Inactive</h1><h2>"+r+"%</h2>");var c=$("<div/>");c.attr("class","three center"),c.html('<h1 class="green">Good</h1><h2 class="green">'+s+"%</h2>");var p=$("<div/>");i.appendTo(p),l.appendTo(p),d.appendTo(p),c.appendTo(p),a.Content(p);var u=new Server;u.CallServer("GET","JSON","/API/GetCompetitorCount","rf=json&usr="+encodeURIComponent(t),"Spam_AddCompetitorButtonPopup"),$("#spam").val(e.data.spam),$("#potential").val(e.data.potential),$("#checks").val(e.data.checks),$("#followers").val(e.data.followers)}else{var h=$("<h1/>"),m=$("<small/>");429==e.code?(h.text("We are sorry but you have breached your Twitter API 1.1 Limit."),a.Content(h),m.html('Please wait 15 minutes and try again. For more information on Twitter API limits please read their <a href="https://dev.twitter.com/docs/rate-limiting/1.1" target="_blank">rate limiting policies</a> or contact info@statuspeople.com.'),a.AddContent(m)):(h.text("No data returned for this user."),a.Content(h),m.html('If you are having any persistant problems accessing data with StatusPeople please <a href="/Fakers/Reset">reset your connection details</a>.'),a.AddContent(m))}a.RemoveTinyLoader()},this.ProcessCachedSpamData=function(e){if(201==e.code){var t=e.data.Fake[0].count,a=e.data.Good[0].count,o=e.data.Inactive[0].count,r=$("<div/>");r.attr("class","three center"),r.html('<h1 class="red">Fake</h1><h2 class="red">'+t+"%</h2>"),$("#spamscore").val(t);var s=$("<div/>");s.attr("class","three center"),s.html("<h1>Inactive</h1><h2>"+o+"%</h2>");var n=$("<div/>");n.attr("class","three center"),n.html('<h1 class="green">Good</h1><h2 class="green">'+a+"%</h2>"),r.appendTo("#scoresholder"),s.appendTo("#scoresholder"),n.appendTo("#scoresholder");var i=$("<div/>");i.attr("class","one"),i.attr("id","shareform");var l=$("<input/>");l.attr("type","button"),l.attr("id","sharescores"),l.val("Share Your Scores on Twitter"),l.appendTo(i),i.insertAfter("#scoresholder")}else{var d=$('<div class="one"></div>'),c=$("<h1/>"),p=$("<small/>");429==e.code?(c.text("We are sorry but you have breached your Twitter API 1.1 Limit."),c.appendTo(d),p.html('Please wait 15 minutes and try again. For more information on Twitter API limits please read their <a href="https://dev.twitter.com/docs/rate-limiting/1.1" target="_blank">rate limiting policies</a> or contact info@statuspeople.com.'),p.appendTo(d)):(c.text("No data returned for this user."),c.appendTo(d),p.html('If you are having any persistant problems accessing data with StatusPeople please <a href="/Fakers/Reset">reset your connection details</a>.'),p.appendTo(d)),d.appendTo("#scoresholder")}var u=new Popup;u.RemoveTinyLoader()},this.ProcessSpamDataFirstTime=function(e,t){if(201==e.code){var a=0,o=0,r=0,s=e.data.checks;s>0&&(a=Math.round(100*(e.data.spam/s)),o=Math.round(100*(e.data.potential/s)),r=100-(a+o));var n=$("<div/>");n.attr("class","three center"),n.html('<h1 class="red">Fake</h1><h2 class="red">'+a+"%</h2>");var i=$("<div/>");i.attr("class","three center"),i.html("<h1>Inactive</h1><h2>"+o+"%</h2>");var l=$("<div/>");l.attr("class","three center"),l.html('<h1 class="green">Good</h1><h2 class="green">'+r+"%</h2>"),n.appendTo("#scoresholder"),i.appendTo("#scoresholder"),l.appendTo("#scoresholder");var d=$("<div/>");d.attr("class","one"),d.attr("id","shareform");var c=new Server;c.CallServer("GET","json","/API/GetSpamList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildFakersList","");var p=$("<input/>");p.attr("type","button"),p.attr("id","sharescores"),p.val("Share Your Scores"),p.appendTo(d),d.insertAfter("#scoresholder"),$("#spam").val(e.data.spam),$("#potential").val(e.data.potential),$("#checks").val(e.data.checks),$("#followers").val(e.data.followers)}else{var u=$('<div class="one"></div>'),h=$("<h1/>"),m=$("<small/>");429==e.code?(h.text("We are sorry but you have breached your Twitter API 1.1 Limit."),h.appendTo(u),m.html('Please wait 15 minutes and try again. For more information on Twitter API limits please read their <a href="https://dev.twitter.com/docs/rate-limiting/1.1" target="_blank">rate limiting policies</a> or contact info@statuspeople.com.'),m.appendTo(u)):(h.text("No data returned for this user."),h.appendTo(u),m.html('If you are having any persistant problems accessing data with StatusPeople please <a href="/Fakers/Reset">reset your connection details</a>.'),m.appendTo(u)),u.appendTo("#scoresholder")}var f=new Popup;f.RemoveTinyLoader()},this.ProcessSpamScoreShare=function(e){pop=new Popup;var t=new Messages;201==e.code?t.Build("success",["Scores shared to Twitter."],".header"):t.Build("failure",["Failed to share scores to Twitter."],".header"),pop.RemoveTinyLoader()},this.ProcessCacheData=function(e){if(201==e.code){var t=new Object;t.code=201,t.data=e.data.lang;var a=new Charts;a.BuildChart(t,[{id:"langchart",type:"pie",multi:!1,size:"large",xreverse:!1,backgroundcolor:"#fefefe",colors:["#FE7D1D","#36B6D5","#2AFE1B","#FE1B2A","#7D1BFE"]}]),this.BuildAverages(e.data.avg)}else{var o=new Messages;o.Build("failure",["No language or average data was returned."],".header")}var r=new Popup;r.RemoveTinyLoader()},this.BuildAverages=function(e){$("#averages").length&&$("#averages").remove();var t=new Format,a=$('<table id="averages"/>'),o=$("<tr><th>Activity</th><th>Followers</th><th>Friends</th></tr>"),r=$("<tr><td>"+Math.round(e.tweets_pd/e.count)+" Tweets per day</td><td>"+t.Number(Math.round(e.followers/e.count))+" on average</td><td>"+t.Number(Math.round(e.friends/e.count))+" on average</td></tr>"),s=$("<tr><td>"+Math.round(100*(e.one/e.count))+"% no tweets in last day</td><td>"+Math.round(100*(e.fo250/e.count))+"% have less than 250</td><td>"+Math.round(100*(e.fr250/e.count))+"% follow less than 250</td></tr>"),n=$("<tr><td>"+Math.round(100*(e.thirty/e.count))+"% no tweets in 30 days</td><td>"+Math.round(100*(e.fo500/e.count))+"% have about 500</td><td>"+Math.round(100*(e.fr500/e.count))+"% follow about 500</td></tr>"),i=$("<tr><td>"+Math.round(100*(e.hundred/e.count))+"% no tweets in 100 days</td><td>"+Math.round(100*(e.fo1000/e.count))+"% have more than 1,000</td><td>"+Math.round(100*(e.fr1000/e.count))+"% follow more than 1,000</td></tr>");o.appendTo(a),r.appendTo(a),s.appendTo(a),n.appendTo(a),i.appendTo(a),a.appendTo("#followerdata")},this.Sharing=function(){$("#sharescores").remove();var e=new Popup;e.TinyLoader()},this.AddCompetitorButton=function(e){var t=new Messages,a=new Array;if(201==e.code){var o=$("<input/>");o.attr("type","button"),o.attr("id","addfaker"),o.attr("value","Add User To Friends List"),e.data.competitors>=6&&1==e.data.type?(o.attr("disabled","disabled"),a[0]="You cannot add any more users to your fakers list.",t.Build("alert",a,".header")):e.data.competitors>=16&&2==e.data.type&&(o.attr("disabled","disabled"),a[0]="You cannot add any more users to your fakers list.",t.Build("alert",a,".header")),o.appendTo("#shareform")}else a[0]="Could not find user details on Twitter please try your search again.",t.Build("failure",a,".header")},this.AddCompetitorButtonPopup=function(e){new Messages,new Array;var t=new Popup;if(201==e.code){var a=$('<form><fieldset><input type="button" id="addfakerpopup" value="Add User To Friend List"/></fieldset></form>');t.AddContent(a),e.data.competitors>=6&&1==e.data.type?($("#addfakerpopup").attr("disabled","disabled"),t.AddMessage("You cannot add any more users to your fakers list.",!0)):e.data.competitors>=16&&2==e.data.type&&($("#addfakerpopup").attr("disabled","disabled"),t.AddMessage("You cannot add any more users to your fakers list.",!0))}else t.AddMessage("Could not find user details on Twitter please try your search again.",!0)},this.AddFaker=function(e,t){var a=new Messages,o=new Array,r=new Server;201==e.code?(o[0]='User added to <a href="/Fakers/Followers">Friends List</a>.',a.Build("success",o,".header")):(o[0]="Failed to add user to Friends List, please try again",a.Build("failure",o,".header")),r.CallServer("GET","json","/API/GetCompetitorList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildCompetitorList","")},this.DeleteFaker=function(e,t){var a=new Messages,o=new Array,r=new Server;201==e.code?(o[0]="User removed from Fakers List.",a.Build("success",o,".header")):a.Build("failure",[e.message],".header"),r.CallServer("GET","json","/API/GetCompetitorList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildCompetitorList","")},this.BuildCompetitorList=function(e){if(201==e.code){var t,a,o;$(".competitorlist").length&&$(".competitorlist").remove();var r=$('<table class="competitorlist"/>');$.each(e.data,function(e,s){t=Math.round(100*(s.spam/s.checks)),a=Math.round(100*(s.potential/s.checks)),o=100-(t+a);var n=$("<tr/>");n.html('<td><a href="http://twitter.com/'+s.screen_name+'" target="_blank"><img src="'+s.avatar+'" width="36px" height="36px" /></a></td><td><span class="blue pointer details" data-sc="'+s.screen_name+'">'+s.screen_name+'</span></td><td><span class="red">Fake: '+t+'%</span></td><td><span class="orange">Inactive: '+a+'%</span></td><td><span class="green">Good: '+o+'%</span></td><td><input type="hidden" value="'+s.twitterid+'" class="ti"/><input type="hidden" value="'+s.screen_name+'" class="sc"/><span class="chart icon" data-tip="View on chart"><img src="/Pie/Crust/Template/img/Reports.png" height="24px" width="22px"/></span></td><td><input type="hidden" value="'+s.twitterid+'"/><span class="delete icon" data-tip="Remove">X</span></td>'),n.appendTo(r)}),r.appendTo("#fakerslist")}},this.BuildFakersList=function(e){var t=new Popup;if(t.RemoveTinyLoader(),201==e.code){$("#checkform").length&&$("#checkform").remove(),$("#spammers .fakeslist").length&&$("#spammers .fakeslist").remove();var a=$('<ul class="fakeslist"/>');$.each(e.data,function(e,t){var o=$("<li/>");o.html('<input type="hidden" value="'+t.screen_name+'" class="sc" />'+'<input type="hidden" value="'+t.twitterid+'" class="ti"/>'+'<img src="'+t.avatar+'" width="48px" height="48px" /> <span>'+t.screen_name+"</span><small>"+'<a href="#details" class="details">Details</a> | <a href="#block" class="block">Block</a>'+'| <a href="#spam" class="notspam">Not Spam</a></small>'),o.appendTo(a)}),a.appendTo("#spammers")}else{if($("#spammers .fakeslist").length&&$("#spammers .fakeslist").remove(),!$("#checkform").length){var o=$('<div id="checkform"/>'),r=$("<p/>");r.text("No Fake Followers found at this time."),r.appendTo(o);var s=$('<p><fieldset><input type="button" id="checkfakes" value="Check For New Fakes"/></fieldset></p>');s.appendTo(o),o.appendTo("#spammers")}var n=new Messages;n.Build("alert",["No Fake Followers found at this time, please try again later."],".header")}},this.BuildBlockedList=function(e){var t=new Popup;if(t.RemoveTinyLoader(),201==e.code){$("#blocked .fakeslist").length&&$("#blocked .fakeslist").remove();var a=$('<ul class="fakeslist"/>');$.each(e.data,function(e,t){var o=$("<li/>");o.html('<input type="hidden" value="'+t.screen_name+'" class="sc" /><input type="hidden" value="'+t.twitterid+'" class="ti"/><img src="'+t.avatar+'" width="48px" height="48px" /> <span>'+t.screen_name+'</span><small><a href="#details" class="details">Details</a> | <a href="#block" class="unblock">Unblock</a>'),o.appendTo(a)}),a.appendTo("#blocked")}},this.UpdateFakersList=function(e,t){var a=new Server;if(201==e.code)a.CallServer("GET","json","/API/GetSpamList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildFakersList","");else{if(429==e.code){var o=new Messages;o.Build("alert",e.message,".header")}a.CallServer("GET","json","/API/GetSpamList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildFakersList","")}},this.BuildUser=function(e){var t=new Tweets,a=new Popup;if(a.RemoveMessage(),a.RemoveLoader(),201==e.code){var o=t.BuildUser(e.data),r=$("<ul/>");r.addClass("twitteruser"),o.appendTo(r),a.Content(r)}else a.AddMessage("No user data returned",!0)},this.BlockUser=function(e,t){var a=new Messages,o=new Array,r=new Server,s=new Format;201==e.code?(o[0]="User blocked successfully.",a.Build("success",o,".header"),$("#blockcount").text(s.Number(e.data))):(o[0]="Failed to block user, please try again.",a.Build("failure",o,".header")),r.CallServer("GET","json","/API/GetSpamList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildFakersList",""),r.CallServer("GET","json","/API/GetBlockedList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildBlockedList","")},this.UnBlockUser=function(e,t){var a=new Messages,o=new Array,r=new Server;201==e.code?(o[0]="User unblocked successfully.",a.Build("success",o,".header")):(o[0]="Failed to unblock user, please try again.",a.Build("failure",o,".header")),r.CallServer("GET","json","/API/GetSpamList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildFakersList",""),r.CallServer("GET","json","/API/GetBlockedList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildBlockedList","")},this.NotSpam=function(e,t){var a=new Messages,o=new Array,r=new Server;201==e.code?(o[0]="User successfully marked as not spam.",a.Build("success",o,".header")):(o[0]="Failed to mark user as not spam, please try again.",a.Build("failure",o,".header")),r.CallServer("GET","json","/API/GetSpamList","rf=json&usr="+encodeURIComponent(t),"Spam_BuildFakersList","")},this.ProcessUserCheck=function(e){var t=new Popup;if(500==e.code){t.BuildRightInfoBox();var a=$('<p><strong>Get 5 Free Friend Searches.</strong></p><p>Just give us a few details.</p><input type="button" id="freesearches" value="Free Searches" /><p><strong>Get Unlimited Friend Searches</strong></p><p>Sign up for a subscription.</p><a href="/Payments/Details"><input type="button" value="Unlimited Searches"/></a><p><strong>Auto Block</strong></p><p>To Auto Block your Fake Followers and track up to 15 Friends upgrade to a Premium subscription.</p><form><fieldset><input type="button" id="gotopremium" value="Go Premium" /></fieldset></form>');t.RightInfoContent(a)}else if(201==e.code){t.BuildRightInfoBox();var a=$('<p><strong>Get Unlimited Friend Searches</strong></p><p>Sign up for a subscription.</p><a href="/Payments/Details"><input type="button" value="Unlimited Searches"/></a><p><strong>Auto Block</strong></p><p>To Auto Block your Fake Followers and track up to 15 Friends upgrade to a Premium subscription.</p><form><fieldset><input type="button" id="gotopremium" value="Go Premium" /></fieldset></form>');t.RightInfoContent(a)}},this.EventbriteData=function(e){var t=new Popup;if(201==e.code){t.BuildRightInfoBox();var a=$("<p><strong>Join Our Next Webinar</strong></p><p>"+e.data[0].title+"</p>"+'<input type="button" id="webinarbut" data-link="'+e.data[0].link+'" value="Register Now" />');t.RightInfoContent(a)}},this.ProcessUserAddDetails=function(e){var t=new Popup,a=new Messages;if(201==e.code){a.Build("success",['User details added successfully. And you now have 5 extra friend searches. If you want unlimited searches <a href="/Payments/Subscriptions">sign up for a subscription</a>.'],".header"),t.RemovePopup(),$.cookie("searches",e.data.searches,1e3),$("#friendsearches").text(e.data.searches),t.RightInfoClose(),t.BuildRightInfoBox();var o=$('<p><strong>Get Unlimited Friend Searches</strong></p><p>Sign up for a subscription.</p><a href="/Payments/Details"><input type="button" value="Unlimited Searches"/></a><p><strong>Auto Block</strong></p><p>To Auto Block your Fake Followers and track up to 15 Friends upgrade to a Premium subscription.</p><form><fieldset><input type="button" id="gotopremium" value="Go Premium" /></fieldset></form>');t.RightInfoContent(o)}else 500==e.code?(a.Build("failure",["Failed to create user."],".header"),t.RemovePopup()):t.AddMessage(e.message,!0);t.RemoveTinyLoader()},this.ProcessFakerFind=function(e){$("#blocksearchdata .fakeslist").length&&$("#blocksearchdata .fakeslist").remove();var t=$('<ul class="fakeslist"/>');if(e.code=201)$.each(e.data,function(e,a){var o=$("<li/>");o.html('<input type="hidden" value="'+a.screen_name+'" class="sc" /><input type="hidden" value="'+a.twitterid+'" class="ti"/><img src="'+a.avatar+'" width="48px" height="48px" /> <span>'+a.screen_name+'</span><small><a href="#details" class="details">Details</a> | <a href="#block" class="unblock">Unblock</a>'),o.appendTo(t)});else{var a=$("<li>No Blocked Followers found.</li>");a.appendTo(t)}t.appendTo("#blocksearchdata")},this.AutoBlockUpdate=function(e){var t=new Messages,a=new Popup;if(201==e.code){var o,r;1==e.data?(t.Build("success",["Auto blocking has been turned on."],".header"),o=$('<span class="green">On <span class="ico">;</span></span>'),r=$('<span id="autooff" class="microbutton pointer">Turn Off</span>')):(t.Build("success",["Auto blocking has been turned off."],".header"),o=$('<span class="red">Off <span class="ico" style="font-size:20px;">9</span></span>'),r=$('<span id="autoon" class="microbutton pointer">Turn On</span>'));var s=$("<h2>Auto Block Fakes </h2>");o.appendTo(s),$("#autoblock.one h2 + span").remove(),$("#autoblock.one h2").remove(),s.appendTo("#autoblock.one"),r.appendTo("#autoblock.one")}else t.Build("failure",["Failed to change your auto blocking status."],".header");a.RemovePopup(),a.RemoveTinyLoader()}}function Tweets(){this.BuildTweet=function(e){var t=$("<li/>"),a=$("<img/>");
a.attr("src",e.avatar),a.attr("height","48px"),a.attr("width","48px"),a.appendTo(t);var o=$("<p/>"),r=this.HashAtLink(e.tweet);o.append("<strong>"+e.name+"</strong> "),o.append(r),o.appendTo(t);var s=$("<small/>");return s.addClass("orange"),s.html("Source: "+e.source+" | Date: "+e.date),s.appendTo(t),t},this.HashAtLink=function(e){var t=new RegExp("https?:\\/\\/([a-zA-Z0-9\\/\\_\\-\\.\\(\\)\\&\\?\\=]*)","g"),a=new RegExp("^@([a-zA-Z0-9_-]{1,})","g"),o=new RegExp("\\s@([a-zA-Z0-9_-]{1,})","g"),r=new RegExp("^#([a-zA-Z0-9_-]{1,})","g"),s=new RegExp("\\s#([a-zA-Z0-9_-]{1,})","g"),n=e.replace(t,'<a href="http://$1" target="_blank" class="createdlink">$1</a>');return n=n.replace(a,'<a href="http://twitter.com/$1" class="tweetuser" target="_blank">@$1</a>'),n=n.replace(o,' <a href="http://twitter.com/$1" class="tweetuser" target="_blank">@$1</a>'),n=n.replace(r,' <a href="http://twitter.com/search?q=%23$1" class="tweethash" target="_blank">#$1</a>'),n=n.replace(s,' <a href="http://twitter.com/search?q=%23$1" class="tweethash" target="_blank">#$1</a>')},this.GetAtUsers=function(e){var t=new RegExp("\\s@([a-zA-Z0-9_-]{1,})","g"),a=e.match(t);return a},this.CreateRetweet=function(e){var t=new RegExp("^([a-zA-Z0-9_-]{1,})\\s"),a=new RegExp("([a-zA-Z0-9]{1,}\\.[a-zA-Z0-9]{1,}\\/[a-zA-Z0-9]{1,})","g"),o=e.match(t),r="RT @"+o[1]+": ",s=e.replace(t,r);return s=s.replace(a,"http://$1")},this.BuildUser=function(e,t){var a=$("<li/>"),o=$('<div class="userholder"/>'),r=$("<div/>"),s=$('<img width="48" height="48" src="'+e.image+'"/>');s.appendTo(r);var n="green";"Inactive"==e.spam?n="orange":"Fake"==e.spam&&(n="red");var i=$('<div class="fakers center orange"><strong>Fakers</strong><br/><strong><span class="'+n+'">'+e.spam+"</span></strong></div>");i.appendTo(r);var l=$('<div class="kredsmall"><div class="influence"></div><div class="outreach"></div></div>');l.appendTo(r),r.appendTo(o);var d=$("<div/>");d.html('<span class="screenname">'+e.screenname+"</span><br/>"+e.location+'<br/><a href="'+e.url+'" target="_blank">Website</a><br/>Tweets: '+e.tweets+"<br/>Followers: "+e.followers+' <a href="http://twitter.com/'+e.screenname+'" class="tweetfollowers">View</a><br/>Friends: '+e.friends+"<br/>Days Active: "+e.daysactive);var c=new Server;c.CallServer("GET","json","/API/GetKredScore","rf=json&gk="+t+"&usr="+e.screenname,"Tweets_AddKredScore",l),d.appendTo(o);var p=$("<div/>");p.text(e.description),p.appendTo(o);var u=$("<div/>");return u.html('<a href="http://twitter.com/'+e.screenname+'" class="usertweettimeline" title="User Timeline">"</a>'),u.appendTo(o),o.appendTo(a),a},this.BuildDM=function(){},this.BuildRetweet=function(){},this.AddKredScore=function(e,t){201==e.code?(t.children(".influence").html(e.data.influence),t.children(".outreach").html(e.data.outreach)):(t.children(".influence").html("0"),t.children(".outreach").html("0"))},this.Timeline=function(e,t){var a=new Tweets,o=new Hub,r="#twitter"+t,s="#timelineholder"+t;if(201==e.code){var n=0;if($(r).length)$.each(e.data,function(e,o){n||$("#sinceid"+t).val(o.id);var s=a.BuildTweet(o);s.prependTo(r),n+=1});else{var i=$("<ul/>");i.attr("id","twitter"+t),i.addClass("twittertimeline"),$.each(e.data,function(e,o){n||$("#sinceid"+t).val(o.id);var r=a.BuildTweet(o);r.appendTo(i),n+=1}),i.appendTo(s)}}else if($(r).length);else{var l=new Popup;l.Loader(),l.AddMessage("No data returned",!0)}$("#viewnewtweets").length&&$("#viewnewtweets").remove(),o.Loader("")},this.Followers=function(e){var t=new Popup,a=new Tweets;if(201==e.code){var o=$("<ul/>");o.addClass("twitterusers"),$.each(e.data,function(e,t){var r=a.BuildUser(t);r.appendTo(o)}),t.Content(o,"popupscroll")}else t.AddMessage("No follower data returned at this time.",!0);t.RemoveLoader()},this.NewCount=function(e){if(201==e.code){var t=new Hub,a=0;if($.each(e.data,function(){a+=1}),$("#viewnewtweets").length)$("#viewnewtweets").text("You have "+a+" new Tweets to view.");else{var o=$("<div/>");o.attr("id","viewnewtweets"),o.text("You have "+a+" new Tweets to view."),o.insertBefore("#timelineholderhome")}}t.Loader("")},this.BuildUserTimeline=function(e){var t=new Tweets,a=new Popup;if(a.RemoveLoader(),a.RemoveMessage(),201==e.code){var o=$('<ul class="twittertimeline"/>');$.each(e.data,function(e,a){var r=t.BuildTweet(a);r.appendTo(o)}),a.Content(o,"popupscroll")}else a.AddMessage("No tweets found for this user",!0)}}function Format(){this.Number=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}